<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BANANIUM MAXIMUS - AI Battle Royale</title>
    
    <!-- Load fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Teko:wght@400;600&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Futura font alternative (Futura PT not available on Google Fonts, so using closest alternative) -->
    <link rel="stylesheet" href="https://use.typekit.net/dlp1wkx.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/styles.css">
    <!-- Mobile-specific CSS -->
    <link rel="stylesheet" href="assets/css/mobile.css">
    
    <!-- Critical styles for starfield -->
    <style>
        /* Ensure these key styles override anything from the original files */
        #starfield-canvas {
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            z-index: 5 !important;
            background-color: #000000 !important;
        }
        
        .starfield-wrapper canvas {
            width: 100% !important;
            height: 100% !important;
            pointer-events: auto !important; /* Enable interaction with the starfield */
        }
        
        /* Fix for Three.js container */
        .starfield-wrapper div[style*="position: absolute"] {
            width: 100% !important;
            height: 100% !important;
        }
        
        /* Active Link Styling - Match agents page */
        .nav-links a.active {
            color: var(--primary-color);
            text-shadow: 0 0 10px var(--primary-color);
            font-weight: bold;
        }
        
        /* Fix for flip tiles */
        .flip-tile-inner {
            transform-style: preserve-3d !important;
        }
        
        .flip-tile-back {
            transform: rotateY(180deg) !important;
            backface-visibility: hidden !important;
            -webkit-backface-visibility: hidden !important;
        }
        
        .flip-tile-front {
            backface-visibility: hidden !important;
            -webkit-backface-visibility: hidden !important;
        }
        
        /* Fixed tile content sizes for zoom stability */
        .flip-tile-front .step-title {
            font-size: max(1.8rem, 24px) !important;
            line-height: 1.32 !important;
        }
        
        .flip-tile-front p {
            font-size: max(1.2rem, 16px) !important;
            line-height: 1.54 !important;
        }
        
        .flip-tile-front .step-icon {
            font-size: max(2rem, 26px) !important;
        }
        
        /* Ensure fixed dimensions for participation tiles regardless of zoom */
        .steps-container .flip-tile {
            height: 200px !important;
            min-height: 200px !important;
            flex: 1 1 0 !important;
        }
        
        /* Ensure content stays centered */
        .flip-tile-front {
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            height: 100% !important;
            width: 100% !important;
            box-sizing: border-box !important;
        }
        
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        /* Fix for places 4-8 tiles to ensure they're hidden until animation */
        .prize-card {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.5s ease, transform 0.5s ease;
            visibility: hidden; /* Initially completely hidden */
        }
        
        .prize-card.animated {
            opacity: 1;
            transform: translateY(0);
            visibility: visible; /* Show when animated */
        }
        
        @keyframes confetti-fall {
            0% { transform: translateY(0) translateX(0) scale(0); opacity: 0; }
            10% { transform: translateY(-20px) translateX(calc(var(--fall-direction, 0px) * 0.2)) scale(1.2); opacity: 1; }
            30% { transform: translateY(10px) translateX(calc(var(--fall-direction, 0px) * 0.5)) scale(1); opacity: 0.9; }
            100% { transform: translateY(400px) translateX(var(--fall-direction, 0px)) scale(0.3) rotate(720deg); opacity: 0; }
        }
        
        @keyframes confetti-sway {
            0% { transform: translateX(0); }
            25% { transform: translateX(25px); }
            50% { transform: translateX(0); }
            75% { transform: translateX(-25px); }
            100% { transform: translateX(0); }
        }
        
        @keyframes confetti-pop {
            0% { transform: scale(0); opacity: 0; }
            20% { transform: scale(1.5); opacity: 1; }
            40% { transform: scale(0.8); opacity: 0.9; }
            60% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 0.8; }
        }
        
        @keyframes shimmer {
            0% { filter: brightness(1); }
            50% { filter: brightness(1.5); }
            100% { filter: brightness(1); }
        }
        
        .confetti-burst {
            position: absolute;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
            border-radius: 50%;
            opacity: 0;
            z-index: 0;
            animation: burst 0.5s ease-out forwards;
        }
        
        @keyframes burst {
            0% { transform: scale(0.1); opacity: 0; }
            20% { opacity: 0.6; }
            50% { opacity: 0.3; }
            100% { transform: scale(3); opacity: 0; }
        }
        
        .confetti {
            position: absolute;
            width: 12px;
            height: 18px;
            background-color: #FFD700;
            opacity: 0;
            border-radius: 0;
            animation: confetti-pop 0.3s ease-out forwards, confetti-fall 1.5s ease-in-out forwards, confetti-sway 2s ease-in-out infinite, shimmer 1.5s infinite;
            z-index: 1;
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.4);
            transform-origin: center;
            --fall-direction: 0px;
        }
        
        .confetti.square {
            border-radius: 0;
            transform-origin: center center;
        }
        
        .confetti.circle {
            border-radius: 50%;
        }
        
        .confetti.triangle {
            width: 0;
            height: 0;
            background: transparent;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-bottom: 18px solid;
            box-shadow: none;
        }
        
        .confetti.star {
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            background-color: #FFD700;
        }
        
        @keyframes floating-subtle {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
        
        .flip-tile {
            transition: box-shadow 0.3s ease;
        }
        
        .flip-tile:hover {
            box-shadow: 0 0 20px 5px rgba(128, 0, 255, 0.7);
        }
        
        @keyframes banana-scroll-up {
            0% { transform: translateY(100%); }
            100% { transform: translateY(-100%); }
        }
        
        @keyframes banana-scroll-down {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        
        .banana-treadmill {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            z-index: 10;
        }
        
        .banana-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes pulse-glow {
            0% { box-shadow: 0 0 5px rgba(255,215,0,0.5); }
            50% { box-shadow: 0 0 20px rgba(255,215,0,0.8); }
            100% { box-shadow: 0 0 5px rgba(255,215,0,0.5); }
        }
        
        @keyframes scale-bounce {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes rotate-medal {
            0% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
            100% { transform: rotate(-5deg); }
        }
        
        @keyframes pulse-winner {
            0% { box-shadow: 0 0 10px rgba(255,215,0,0.7); }
            50% { box-shadow: 0 0 30px rgba(255,215,0,1); }
            100% { box-shadow: 0 0 10px rgba(255,215,0,0.7); }
        }
        
        @keyframes pulse-button {
            0% { transform: scale(1); box-shadow: 0 0 10px rgba(255,215,0,0.5); }
            50% { transform: scale(1.05); box-shadow: 0 0 20px rgba(255,215,0,0.8); }
            100% { transform: scale(1); box-shadow: 0 0 10px rgba(255,215,0,0.5); }
        }
        
        .prize-card:hover {
            transform: translateY(-5px);
        }
        
        @keyframes main-title-glow {
            0% { text-shadow: 0 0 15px rgba(255, 215, 0, 0.7), 0 0 30px rgba(255, 215, 0, 0.3); }
            50% { text-shadow: 0 0 25px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 215, 0, 0.4); }
            100% { text-shadow: 0 0 15px rgba(255, 215, 0, 0.7), 0 0 30px rgba(255, 215, 0, 0.3); }
        }
        
        @keyframes scale-bounce-enhanced {
            0% { transform: scale(1.02); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1.02); }
        }
        
        @keyframes pulse-glow-purple {
            0% { box-shadow: 0 0 5px rgba(128, 0, 255, 0.5); }
            50% { box-shadow: 0 0 20px rgba(128, 0, 255, 0.8); }
            100% { box-shadow: 0 0 5px rgba(128, 0, 255, 0.5); }
        }

        /* Lock page scrolling initially */
        body {
            overflow: hidden !important; /* Prevent scrolling on initial load */
            margin: 0 !important; 
            padding: 0 !important;
            height: 100vh !important; /* Force body to be exactly viewport height */
            max-height: 100vh !important; /* Ensure it doesn't exceed viewport */
            position: fixed !important; /* Completely prevent scrolling */
            width: 100% !important; /* Full width */
        }
        
        body.scrolling-enabled {
            overflow: auto !important; /* Allow scrolling when this class is added */
            height: auto !important; /* Allow content to determine height */
            max-height: none !important; /* No max height limitation */
            position: relative !important; /* Normal document flow */
        }
        
        /* Ensure navbar links require scrolling to be enabled */
        body:not(.scrolling-enabled) .nav-link {
            pointer-events: none !important; 
            opacity: 0.5 !important;
            cursor: default !important;
        }
        
        /* Always allow the Enter Arena button to work */
        #enter-arena-btn {
            pointer-events: auto !important;
            cursor: pointer !important;
            opacity: 1 !important;
        }

        /* Hero section specific styles */
        .hero {
            margin: 0 !important;
            padding: 0 !important;
            background-color: transparent !important;
            height: 100vh !important; /* Make hero section full height of viewport */
            display: flex !important;
            flex-direction: column !important;
            justify-content: center !important;
            align-items: center !important;
        }

        /* CRITICAL MOBILE STYLES APPLIED IMMEDIATELY */
        @media (max-width: 768px) {
            /* Hide the Bananium logo immediately on mobile */
            .bananium-logo-container, 
            .bananium-logo-outline, 
            h1.bananium-logo {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
                height: 0 !important;
                overflow: hidden !important;
                pointer-events: none !important;
            }
            
            /* Fix navbar immediately for mobile */
            .navbar {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                z-index: 2000 !important;
                width: 100% !important;
                box-shadow: 0 2px 10px rgba(0,0,0,0.7) !important;
                background: rgba(0, 0, 0, 0.95) !important;
                height: 60px !important;
            }
            
            /* Center the navbar logo perfectly */
            .navbar .logo {
                position: absolute !important;
                left: 50% !important;
                top: 50% !important;
                transform: translate(-50%, -50%) !important;
                width: auto !important;
                padding: 0 !important;
                margin: 0 !important;
                font-size: 1.7rem !important;
                text-align: center !important;
            }
            
            /* Make sure mobile menu toggle is visible and functional */
            .mobile-menu-toggle {
                display: block !important;
                position: absolute !important;
                right: 10px !important;
                top: 50% !important;
                transform: translateY(-50%) !important;
                cursor: pointer !important;
                z-index: 1010 !important;
                color: #FFD700 !important; /* Gold color for visibility */
                font-size: 1.5rem !important;
                background: transparent !important;
                border: none !important;
                padding-right: 5px !important;
                opacity: 1 !important;
                pointer-events: auto !important;
            }
            
            /* Nav links dropdown styling */
            .nav-links {
                position: fixed !important;
                top: 60px !important;
                left: 0 !important;
                right: 0 !important;
                width: 100% !important;
                background-color: rgba(0, 0, 0, 0.95) !important;
                flex-direction: column !important;
                padding: 1rem 0 !important;
                z-index: 1999 !important;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3) !important;
                display: none !important;
            }
            
            /* Critical style for showing nav links when active */
            .nav-links.active {
                display: flex !important;
            }
            
            /* Style nav links */
            .nav-links a {
                padding: 0.5rem 1rem !important;
                text-align: center !important;
                width: auto !important;
                margin: 0 auto !important;
                display: inline-block !important;
                color: #FFD700 !important;
            }
            
            /* Special styling for the JOIN THE BATTLE link */
            .nav-links a.battle-link {
                background-color: #FFD700 !important;
                color: #000000 !important;
                font-weight: bold !important;
                margin-top: 10px !important;
                padding: 12px 20px !important;
                border-radius: 8px !important;
                box-shadow: 0 0 10px rgba(255, 215, 0, 0.5) !important;
                transition: all 0.3s ease !important;
                width: 80% !important;
                max-width: 250px !important;
                text-shadow: none !important;
                border: 2px solid #FFD700 !important;
            }
            
            /* Style for active link with custom underline that matches text width */
            .nav-links a.active {
                color: #FFFFFF !important;
                font-weight: bold !important;
                position: relative !important;
            }
            
            .nav-links a.active::after {
                content: '' !important;
                position: absolute !important;
                left: 50% !important;
                bottom: -2px !important;
                width: 80% !important; /* Match approximate text width */
                height: 2px !important;
                background-color: #FFD700 !important;
                transform: translateX(-50%) !important;
                border-radius: 1px !important;
            }
            
            /* Add padding to body for fixed navbar */
            body {
                padding-top: 70px !important;
            }
            
            /* Ensure the AI AGENTS text and subtitle are visible and properly positioned */
            .ai-agents-text {
                margin-top: 1rem !important;
                font-size: 2.5rem !important;
                letter-spacing: 5px !important;
            }
            
            .subtitle-text {
                font-size: 1.8rem !important;
                letter-spacing: 5px !important;
            }
        }
    </style>
</head>
<body>
    <!-- Script to enable scrolling was removed from here -->
    
    <!-- Audio element with simple filename first -->
    <audio id="background-music" preload="auto" crossorigin="anonymous">
        <source src="assets/audio/Bananas in the Night.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Mute button with label -->
    <div id="audio-controls" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; display: flex; align-items: center; gap: 10px;">
        <div id="audio-label" style="background: rgba(0,0,0,0.7); color: #FFD700; padding: 5px 10px; border-radius: 20px; font-size: 14px; animation: pulse 2s infinite; display: none;">
            Click to hear the music!
        </div>
        <button id="mute-button" style="background: rgba(0,0,0,0.7); border: 2px solid #FFD700; color: #FFD700; width: 50px; height: 50px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; box-shadow: 0 0 10px rgba(255, 215, 0, 0.5); animation: pulse-button 3s infinite;">
            <i class="fa-solid fa-volume-xmark"></i>
        </button>
    </div>
    
    <!-- Navigation -->
    <nav class="navbar" id="main-navbar" style="background: #000000; z-index: 10001; width: 100%; padding: 15px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.5); position: fixed; top: 0; visibility: visible !important; opacity: 1 !important;">
        <div class="navbar-left">
            <div class="social-icons">
                <a href="#" class="nav-link"><i class="fa-solid fa-link"></i></a>
                <a href="#" class="nav-link"><i class="fa-brands fa-x-twitter"></i></a>
            </div>
        </div>
        
        <!-- Logo moved out of navbar-left to be centered properly -->
        <a href="#" class="logo" style="padding-left: 10px;">BANANIUM</a>
        
        <div class="nav-links">
            <a href="#home" class="nav-link">HOME</a>
            <a href="#about" class="nav-link">ABOUT</a>
            <a href="#about-roadmap" class="nav-link">ROADMAP</a>
            <a href="#prize-pool" class="nav-link">PRIZE POOL</a>
            <a href="agents-of-chaos.html" class="nav-link">AGENTS OF CHAOS</a>
            <a href="#whitepaper" class="nav-link">WHITEPAPER</a>
            <a href="https://magiceden.us/" target="_blank" class="nav-link battle-link">JOIN THE BATTLE</a>
        </div>
        <div class="social-icons" style="padding-right: 30px;">
            <a href="#" class="nav-link"><i class="fa-solid fa-link"></i></a>
            <a href="#" class="nav-link"><i class="fa-brands fa-x-twitter"></i></a>
        </div>
        <!-- Mobile menu toggle (hidden by default, shown on small screens) -->
        <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="nav-links">
            <i class="fas fa-bars"></i>
        </button>
    </nav>
    
    <!-- Hero Section -->
    <section id="home" class="hero">
        <!-- Removed hero-overlay div that was creating black bar -->
        
        <!-- Background video with reduced opacity -->
        <div class="background-video-container" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; z-index: 1;">
            <video autoplay loop muted playsinline style="position: absolute; width: 100%; height: 100%; object-fit: cover; object-position: center center; opacity: 0.5; left: 0; top: 0;">
                <source src="assets/videos/BananNium.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        
        <!-- Removed additional background elements -->
        
        <!-- Stylized characters - simple placeholders using emojis and styling -->
        <!-- Removed character-left and character-right divs -->
        
        <!-- Bananium logo styled to match reference - only visible on desktop -->
        <div class="bananium-logo-container" style="display: block; visibility: visible; opacity: 1;">
            <div class="bananium-logo-outline"></div>
            <h1 class="bananium-logo">BANANIUM</h1>
        </div>
        
        <!-- AI AGENTS text with styling similar to reference -->
        <div class="ai-agents-text" style="color: #ff5a5a !important; font-weight: 900; padding: 0 20px; text-transform: uppercase; letter-spacing: 10px; font-size: 3.5rem; word-spacing: 5px; display: inline-block; position: relative; z-index: 2; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; margin-bottom: 0 !important;">AI AGENTS</div>
        <div class="subtitle-text" style="color: #80b0ff !important; font-weight: 900; padding: 0 20px; text-transform: uppercase; letter-spacing: 10px; font-size: 2.8rem; word-spacing: 5px; display: inline-block; position: relative; z-index: 2; text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000; margin-top: 0 !important;">FIGHTING AND TWEETING</div>
        
        <a href="#" id="enter-arena-btn" class="cta-btn" style="margin-top: 2rem; animation: pulse-button 2s infinite; position: relative; z-index: 100;"><span style="margin-right: 0.5em;">🍌</span>ENTER THE ARENA<span style="margin-left: 0.5em;">🍌</span></a>
    </section>
    
    <!-- Warp Animation Container -->
    <div class="warp-container">
        <div class="warp-effect"></div>
    </div>
    
    <!-- About Section -->
    <section id="about" class="about">
        <div style="width: calc(100vw - 4cm); margin: 0 auto;">
            <div style="text-align: center; margin-top: 2rem;">
                <h1 class="section-title bananium-logo" style="font-size: 6rem; text-align: center; margin: 1rem auto 3rem; color: #FFD700; letter-spacing: 8px; font-weight: 900; animation: main-title-glow 5s infinite, scale-bounce-enhanced 7s infinite; transform: scale(1.02); line-height: 1.2; padding: 20px 30px; background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.65)); border-radius: 15px; max-width: 95%; display: inline-block; position: relative; z-index: 10;">BANANIUM MAXIMUS</h1>
            </div>
            
            <!-- Visual directional indicator -->
            <div style="text-align: center; margin: -1rem auto 1.5rem; opacity: 0.9;">
                <i class="fas fa-chevron-down" style="font-size: 2rem; color: #FFD700; animation: floating 2s ease-in-out infinite;"></i>
            </div>
            
            <!-- Colusseum image -->
            <div class="colusseum-image-container" style="margin-top: 0.5rem;">
                <img src="assets/images/Colusseum.jpg" alt="Colusseum Arena" class="colusseum-image">
            </div>
            
            <!-- Interactive Flip Tiles -->
            <div class="flip-tiles-container">
                <div class="flip-tile" style="border-radius: 15px; overflow: visible;">
                    <div class="flip-tile-inner" style="border: 3px solid #00FFFF; box-shadow: 0 0 15px rgba(0, 255, 255, 0.6); border-radius: 15px;">
                        <div class="flip-tile-front" style="border-radius: 15px; overflow: hidden; background-color: transparent; display: flex; flex-direction: column; justify-content: flex-end; align-items: center;">
                            <video autoplay loop muted playsinline style="position: absolute; width: 102%; height: 102%; object-fit: cover; z-index: 1; border-radius: 15px; overflow: hidden; object-position: center; top: -1%; left: -1%;">
                                <source src="assets/videos/CheetahFurry.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <h3 style="position: absolute; z-index: 2; background-color: rgba(0, 0, 0, 0.8); padding: 15px; bottom: 10px; width: 90%; color: #00FFFF; font-size: 1.63rem; font-weight: 900; text-align: center; text-shadow: 0 0 15px rgba(0, 255, 255, 0.9), 0 0 8px rgba(0, 0, 0, 1); border: 3px solid #00FFFF; border-radius: 8px; letter-spacing: 1px; font-family: 'Orbitron', sans-serif; text-transform: capitalize; line-height: 1.32; left: 50%; transform: translateX(-50%);">What the f**k's going on?</h3>
                        </div>
                        <div class="flip-tile-back" style="border-radius: 15px; background-color: #1a1a1a; color: #fff; text-shadow: 0 0 2px rgba(255,255,255,0.5);">
                            <div style="text-align: center; padding: 20px; display: flex; flex-direction: column; justify-content: center; height: 100%;">
                                <p style="font-size: 1.92rem; margin-bottom: 15px; line-height: 1.54; font-weight: 500; text-shadow: 0 0 1px rgba(255,255,255,0.8); font-family: 'futura-pt', sans-serif;"><strong style="color: #FFD700; font-size: 2.16rem;">1024 SOL</strong> going to the winners of the most insane battle royal to hit web3!</p>
                                <p style="font-size: 1.92rem; line-height: 1.54; font-weight: 500; text-shadow: 0 0 1px rgba(255,255,255,0.8); font-family: 'futura-pt', sans-serif;"><strong style="color: #FFD700;">4096 AI CHARACTERS</strong> duking it out until only one stands mighty, forever immortalized!</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flip-tile" style="border-radius: 15px; overflow: visible;">
                    <div class="flip-tile-inner" style="border: 3px solid #FFA500; box-shadow: 0 0 15px rgba(255, 165, 0, 0.6); border-radius: 15px;">
                        <div class="flip-tile-front" style="border-radius: 15px; overflow: hidden; background-color: transparent; display: flex; flex-direction: column; justify-content: flex-end; align-items: center;">
                            <video autoplay loop muted playsinline style="position: absolute; width: 102%; height: 102%; object-fit: cover; z-index: 1; border-radius: 15px; overflow: hidden; object-position: center; top: -1%; left: -1%;">
                                <source src="assets/videos/BananaCannonDick.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <h3 style="position: absolute; z-index: 2; background-color: rgba(0, 0, 0, 0.8); padding: 15px; bottom: 10px; width: 90%; color: #FFA500; font-size: 1.63rem; font-weight: 900; text-align: center; text-shadow: 0 0 15px rgba(255, 165, 0, 0.9), 0 0 8px rgba(0, 0, 0, 1); border: 3px solid #FFA500; border-radius: 8px; letter-spacing: 1px; font-family: 'Orbitron', sans-serif; text-transform: capitalize; line-height: 1.32; left: 50%; transform: translateX(-50%);">How it all goes down?</h3>
                        </div>
                        <div class="flip-tile-back" style="border-radius: 15px; background-color: #1a1a1a; color: #fff; text-shadow: 0 0 2px rgba(255,255,255,0.5);">
                            <div style="text-align: center; padding: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%;">
                                <p style="font-size: 3rem; font-weight: bold; color: #FFD700; margin: 0; display: flex; justify-content: center; align-items: center; height: 100%; text-shadow: 0 0 10px rgba(255,215,0,0.3); font-family: 'futura-pt', sans-serif; line-height: 1.1;">READ THE F***ING WHITEPAPER</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flip-tile" style="border-radius: 15px; overflow: visible;">
                    <div class="flip-tile-inner" style="border: 3px solid #FF00FF; box-shadow: 0 0 15px rgba(255, 0, 255, 0.6); border-radius: 15px;">
                        <div class="flip-tile-front" style="border-radius: 15px; overflow: hidden; background-color: transparent; display: flex; flex-direction: column; justify-content: flex-end; align-items: center;">
                            <video autoplay loop muted playsinline style="position: absolute; width: 102%; height: 102%; object-fit: cover; z-index: 1; border-radius: 15px; overflow: hidden; object-position: center; top: -1%; left: -1%;">
                                <source src="assets/videos/HabiboCamel.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                            <h3 style="position: absolute; z-index: 2; background-color: rgba(0, 0, 0, 0.8); padding: 15px; bottom: 10px; width: 90%; color: #FF00FF; font-size: 1.63rem; font-weight: 900; text-align: center; text-shadow: 0 0 15px rgba(255, 0, 255, 0.9), 0 0 8px rgba(0, 0, 0, 1); border: 3px solid #FF00FF; border-radius: 8px; letter-spacing: 1px; font-family: 'Orbitron', sans-serif; text-transform: capitalize; line-height: 1.32; left: 50%; transform: translateX(-50%);">Quantum Quarterfinals</h3>
                        </div>
                        <div class="flip-tile-back" style="border-radius: 15px; background-color: #1a1a1a; color: #fff; text-shadow: 0 0 2px rgba(255,255,255,0.5);">
                            <div style="text-align: center; padding: 20px; display: flex; flex-direction: column; justify-content: center; height: 100%;">
                                <p style="font-size: 1.92rem; line-height: 1.54; font-weight: 500; text-shadow: 0 0 1px rgba(255,255,255,0.8); font-family: 'futura-pt', sans-serif;"><strong style="color: #FFD700;">LIVE STREAMED</strong> spectacle for all to enjoy! Watch the culmination of this <strong style="color: #FFD700;">GREAT EVENT</strong> crescendo in a battle you will never forget!</p>
                                <p style="font-size: 1.92rem; margin-top: 10px; line-height: 1.54; font-weight: 500; text-shadow: 0 0 1px rgba(255,255,255,0.8); font-family: 'futura-pt', sans-serif;">Place your wagers, kick back and watch the mayhem unfold!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Roadmap Section (Moved above the interactive galaxy) -->
            <div id="about-roadmap" style="margin: 3rem 0;">
                <h2 class="section-title animate-on-scroll">ROADMAP</h2>
                
                <!-- Roadmap Animation Video with Banana animations -->
                <div style="padding: 2rem 0; width: calc(((100vw - 4cm) * 0.85) - 3.8px); margin: 0 auto; overflow: visible; background-color: #000; font-size: 0; position: relative;">
                    <!-- Left banana treadmill -->
                    <div class="banana-treadmill left" style="position: absolute; left: -50px; top: 0; bottom: 0; width: 40px; overflow: hidden; font-size: 24px;">
                        <div class="banana-container" style="animation: banana-scroll-up 15s linear infinite; position: relative;">
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                        </div>
                    </div>
                    
                    <!-- Right banana treadmill -->
                    <div class="banana-treadmill right" style="position: absolute; right: -50px; top: 0; bottom: 0; width: 40px; overflow: hidden; font-size: 24px;">
                        <div class="banana-container" style="animation: banana-scroll-down 15s linear infinite; position: relative;">
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                            <div style="margin: 20px 0;">🍌</div>
                        </div>
                    </div>
                    
                    <div class="roadmap-video-container animate-on-scroll" style="border-radius: 15px; box-shadow: 0 0 20px 5px rgba(128, 0, 255, 0.7); overflow: visible; margin: 20px 0; position: relative; background-color: #000; font-size: 0;">
                        <div style="border-radius: 15px; overflow: hidden; background-color: #000; line-height: 0; font-size: 0; position: relative;">
                            <video class="roadmap-video" autoplay loop muted playsinline style="width:100%; height:100%; display:block; border-radius: 15px; margin: 0; padding: 0; transform: scale(1.015); transform-origin: center;">
                                <source src="assets/videos/RoadmapAnimated.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="about-content">
                <div class="about-text animate-on-scroll" style="width: 100%;">
                    <!-- Interactive Galaxy Tile -->
                </div>
            </div>
        </div>
    </section>
    
    <!-- Participation Tiles (Moved from How To section) -->
    <div class="steps-container" style="margin: -3rem auto 4rem; width: calc(100% - 3.5cm); max-width: calc(100% - 3.5cm); display: flex; justify-content: space-between; gap: 20px; position: relative; z-index: 1;">
        <!-- 1 SOL PER WARRIOR -->
        <div class="flip-tile" style="border-radius: 15px; overflow: visible; height: 200px; flex: 1;">
            <div class="flip-tile-inner" style="position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 15px; border: 3px solid #00FFFF; box-shadow: 0 0 15px rgba(0, 255, 255, 0.6);">
                <div class="flip-tile-front" style="border-radius: 15px; overflow: hidden; background-color: #000000; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; width: 100%; box-sizing: border-box; padding: 15px; position: absolute; backface-visibility: hidden; -webkit-backface-visibility: hidden; border: none;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">🔥</div>
                    <h3 style="color: #00FFFF; font-weight: 800; font-size: 1.8rem; line-height: 1.2; text-shadow: 0 0 15px rgba(0, 255, 255, 0.9); letter-spacing: 1px; text-align: center; font-family: 'Orbitron', sans-serif; text-transform: uppercase; margin: 0 0 8px 0;">1 SOL PER WARRIOR</h3>
                    <p style="margin: 5px 0; font-family: 'futura-pt', sans-serif; font-weight: 400; text-transform: none; font-size: 1.1rem; line-height: 1.4; color: rgba(255, 255, 255, 0.8); text-align: center;">1 warrior grants instant entry</p>
                </div>
                <div class="flip-tile-back" style="border-radius: 15px; overflow: hidden; padding: 0; box-sizing: border-box; position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; transform: rotateY(180deg); border: none;">
                    <img src="assets/images/Arenas/Casino.jpeg" alt="Casino" style="width: 100%; height: 100%; object-fit: cover; display: block; margin: 0; padding: 0; border-radius: 13px;">
                </div>
            </div>
        </div>
        
        <!-- 20 NFTS PER WALLET -->
        <div class="flip-tile" style="border-radius: 15px; overflow: visible; height: 200px; flex: 1;">
            <div class="flip-tile-inner" style="position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 15px; border: 3px solid #FFA500; box-shadow: 0 0 15px rgba(255, 165, 0, 0.6);">
                <div class="flip-tile-front" style="border-radius: 15px; overflow: hidden; background-color: #000000; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; width: 100%; box-sizing: border-box; padding: 15px; position: absolute; backface-visibility: hidden; -webkit-backface-visibility: hidden; border: none;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">💼</div>
                    <h3 style="color: #FFA500; font-weight: 800; font-size: 1.8rem; line-height: 1.2; text-shadow: 0 0 15px rgba(255, 165, 0, 0.9); letter-spacing: 1px; text-align: center; font-family: 'Orbitron', sans-serif; text-transform: uppercase; margin: 0 0 8px 0;">20 NFTS PER WALLET</h3>
                    <p style="margin: 5px 0; font-family: 'futura-pt', sans-serif; font-weight: 400; text-transform: none; font-size: 1.1rem; line-height: 1.4; color: rgba(255, 255, 255, 0.8); text-align: center;">Maximum army size per wallet</p>
                </div>
                <div class="flip-tile-back" style="border-radius: 15px; overflow: hidden; padding: 0; box-sizing: border-box; position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; transform: rotateY(180deg); border: none;">
                    <img src="assets/images/Arenas/Colluseum.jpeg" alt="Colusseum" style="width: 100%; height: 100%; object-fit: cover; display: block; margin: 0; padding: 0; border-radius: 13px;">
                </div>
            </div>
        </div>
        
        <!-- BLIND MINT -->
        <div class="flip-tile" style="border-radius: 15px; overflow: visible; height: 200px; flex: 1;">
            <div class="flip-tile-inner" style="position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 15px; border: 3px solid #FF00FF; box-shadow: 0 0 15px rgba(255, 0, 255, 0.6);">
                <div class="flip-tile-front" style="border-radius: 15px; overflow: hidden; background-color: #000000; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; width: 100%; box-sizing: border-box; padding: 15px; position: absolute; backface-visibility: hidden; -webkit-backface-visibility: hidden; border: none;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">🎭</div>
                    <h3 style="color: #FF00FF; font-weight: 800; font-size: 1.8rem; line-height: 1.2; text-shadow: 0 0 15px rgba(255, 0, 255, 0.9); letter-spacing: 1px; text-align: center; font-family: 'Orbitron', sans-serif; text-transform: uppercase; margin: 0 0 8px 0;">BLIND MINT</h3>
                    <p style="margin: 5px 0; font-family: 'futura-pt', sans-serif; font-weight: 400; text-transform: none; font-size: 1.1rem; line-height: 1.4; color: rgba(255, 255, 255, 0.8); text-align: center;">All characters have an equal chance</p>
                </div>
                <div class="flip-tile-back" style="border-radius: 15px; overflow: hidden; padding: 0; box-sizing: border-box; position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; transform: rotateY(180deg); border: none;">
                    <img src="assets/images/Arenas/Space.png" alt="Space" style="width: 100%; height: 100%; object-fit: cover; display: block; margin: 0; padding: 0; border-radius: 13px;">
                </div>
            </div>
        </div>
        
        <!-- BUILT ON SOLANA -->
        <div class="flip-tile" style="border-radius: 15px; overflow: visible; height: 200px; flex: 1;">
            <div class="flip-tile-inner" style="position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 15px; border: 3px solid #00BFFF; box-shadow: 0 0 15px rgba(0, 191, 255, 0.6);">
                <div class="flip-tile-front" style="border-radius: 15px; overflow: hidden; background-color: #000000; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; width: 100%; box-sizing: border-box; padding: 15px; position: absolute; backface-visibility: hidden; -webkit-backface-visibility: hidden; border: none;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">🚀</div>
                    <h3 style="color: #00BFFF; font-weight: 800; font-size: 1.8rem; line-height: 1.2; text-shadow: 0 0 15px rgba(0, 191, 255, 0.9); letter-spacing: 1px; text-align: center; font-family: 'Orbitron', sans-serif; text-transform: uppercase; margin: 0 0 8px 0;">BUILT ON SOLANA</h3>
                    <p style="margin: 5px 0; font-family: 'futura-pt', sans-serif; font-weight: 400; text-transform: none; font-size: 1.1rem; line-height: 1.4; color: rgba(255, 255, 255, 0.8); text-align: center;">Fastest blockchain for gaming</p>
                </div>
                <div class="flip-tile-back" style="border-radius: 15px; overflow: hidden; padding: 0; box-sizing: border-box; position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; transform: rotateY(180deg); border: none;">
                    <img src="assets/images/Arenas/Garden.jpeg" alt="Garden" style="width: 100%; height: 100%; object-fit: cover; display: block; margin: 0; padding: 0; border-radius: 13px;">
                </div>
            </div>
        </div>
    </div>
    
    <!-- Prize Pool Section -->
    <section id="prize-pool" class="prize-pool">
        <h2 class="section-title animate-on-scroll" style="text-shadow: 0 0 15px #9932CC; animation: pulse 2s infinite, scale-bounce-enhanced 5s infinite; color: #FFFFFF; font-weight: 800; font-size: 4.5rem; letter-spacing: 2px; margin-bottom: 1rem; transform: scale(1.05);">1024 SOL PRIZE POOL</h2>
        
        <p style="text-align: center; font-style: italic; font-size: 2.4rem; font-weight: 400; margin-bottom: 2rem; letter-spacing: 1px; color: rgba(255, 255, 255, 0.9);">Worth over <span style="color: #9932CC; font-weight: 700;">$100,000</span>!</p>
        
        <!-- Confetti Trigger Button -->
        <div style="text-align: center; margin-bottom: 10px;">
            <button id="confetti-trigger" style="background: rgba(153, 50, 204, 0.3); border: 1px solid #9932CC; color: #FFD700; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 0.8rem;">🎉 Celebrate!</button>
        </div>
        
        <div class="prize-podium-container animate-on-scroll" style="margin-top: 60px;">
            <div class="podium-wrapper" style="display: flex; justify-content: center; gap: 20px; position: relative; padding-top: 150px; margin-bottom: 60px;">
                <!-- Second Place -->
                <div class="podium-place second-place" style="display: flex; flex-direction: column; align-items: center; position: relative; width: 120px;">
                    <div class="podium-content" style="display: flex; flex-direction: column; align-items: center; margin-bottom: 15px; height: 150px;">
                        <div class="podium-medal" style="font-size: 2.5rem; margin-bottom: 12px;">🥈</div>
                        <div class="podium-rank" style="font-size: 3rem; font-weight: bold; margin-bottom: 12px;">2</div>
                        <div class="podium-sol" style="font-size: 2.3rem; font-weight: bold; color: #FFFFFF; text-shadow: 0 0 10px #9932CC, 0 0 15px #9932CC; letter-spacing: 1px;">171 SOL</div>
                    </div>
                    <div class="podium-bar" style="width: 100px; height: 170px; background-color: #9932CC; border-radius: 10px 10px 0 0;"></div>
                </div>
                
                <!-- First Place -->
                <div class="podium-place first-place" style="display: flex; flex-direction: column; align-items: center; position: relative; width: 120px;">
                    <div class="podium-content" style="display: flex; flex-direction: column; align-items: center; margin-bottom: 30px; height: 170px;">
                        <div class="podium-medal" style="font-size: 3rem; margin-bottom: 12px;">🥇</div>
                        <div class="podium-rank" style="font-size: 3.5rem; font-weight: bold; margin-bottom: 12px; color: #FFD700; text-shadow: 0 0 10px rgba(255,215,0,0.9);">1</div>
                        <div class="podium-sol" style="font-size: 2.8rem; font-weight: bold; color: #FFFFFF; text-shadow: 0 0 10px #9932CC, 0 0 15px #9932CC; letter-spacing: 1px;">609 SOL</div>
                    </div>
                    <div class="podium-bar" style="width: 100px; height: 220px; background-color: #FFD700; border-radius: 10px 10px 0 0; animation: none;"></div>
                </div>
                
                <!-- Third Place -->
                <div class="podium-place third-place" style="display: flex; flex-direction: column; align-items: center; position: relative; width: 120px;">
                    <div class="podium-content" style="display: flex; flex-direction: column; align-items: center; margin-bottom: 8px; height: 150px;">
                        <div class="podium-medal" style="font-size: 2.5rem; margin-bottom: 12px;">🥉</div>
                        <div class="podium-rank" style="font-size: 3rem; font-weight: bold; margin-bottom: 12px;">3</div>
                        <div class="podium-sol" style="font-size: 2.3rem; font-weight: bold; color: #FFFFFF; text-shadow: 0 0 10px #9932CC, 0 0 15px #9932CC; letter-spacing: 1px;">89 SOL</div>
                    </div>
                    <div class="podium-bar" style="width: 100px; height: 120px; background-color: #9932CC; border-radius: 10px 10px 0 0;"></div>
                </div>
            </div>
        </div>
        
        <div class="prize-cards-container animate-on-scroll">
            <div class="line-container" style="display: flex; align-items: center; justify-content: center; margin: 25px 0;">
                <div style="height: 1px; background-color: rgba(255, 255, 255, 0.8); flex-grow: 1; max-width: 300px;"></div>
                <div style="padding: 0 15px; font-size: 1.5rem; color: rgba(255, 255, 255, 0.9); font-weight: 500; font-style: italic;">Don't miss out!</div>
                <div style="height: 1px; background-color: rgba(255, 255, 255, 0.8); flex-grow: 1; max-width: 300px;"></div>
            </div>
            <h3 class="prize-section-subtitle" style="color: #9932CC; font-size: 2.64rem; text-shadow: 0 0 10px rgba(153, 50, 204, 0.5); font-weight: 700; line-height: 1.32;">ADDITIONAL REWARDS</h3>
            
            <div class="prize-cards-wrapper">
                <div class="prize-card" data-rank="4" style="transition: all 0.3s ease; width: 127px; height: 138px;">
                    <div class="prize-card-inner">
                        <div class="prize-card-sol" style="color: #FFD700; font-size: 2.2rem; font-weight: 700; margin-bottom: 5px;">54 SOL</div>
                        <div class="prize-card-rank" style="font-size: 1.2rem; opacity: 0.6; color: #999999; font-family: 'futura-pt', sans-serif; font-weight: 400;">4</div>
                    </div>
                </div>
                <div class="prize-card" data-rank="5" style="transition: all 0.3s ease; width: 127px; height: 138px;">
                    <div class="prize-card-inner">
                        <div class="prize-card-sol" style="color: #FFD700; font-size: 2.2rem; font-weight: 700; margin-bottom: 5px;">37 SOL</div>
                        <div class="prize-card-rank" style="font-size: 1.2rem; opacity: 0.6; color: #999999; font-family: 'futura-pt', sans-serif; font-weight: 400;">5</div>
                    </div>
                </div>
                <div class="prize-card" data-rank="6" style="transition: all 0.3s ease; width: 127px; height: 138px;">
                    <div class="prize-card-inner">
                        <div class="prize-card-sol" style="color: #FFD700; font-size: 2.2rem; font-weight: 700; margin-bottom: 5px;">27 SOL</div>
                        <div class="prize-card-rank" style="font-size: 1.2rem; opacity: 0.6; color: #999999; font-family: 'futura-pt', sans-serif; font-weight: 400;">6</div>
                    </div>
                </div>
                <div class="prize-card" data-rank="7" style="transition: all 0.3s ease; width: 127px; height: 138px;">
                    <div class="prize-card-inner">
                        <div class="prize-card-sol" style="color: #FFD700; font-size: 2.2rem; font-weight: 700; margin-bottom: 5px;">21 SOL</div>
                        <div class="prize-card-rank" style="font-size: 1.2rem; opacity: 0.6; color: #999999; font-family: 'futura-pt', sans-serif; font-weight: 400;">7</div>
                    </div>
                </div>
                <div class="prize-card" data-rank="8" style="transition: all 0.3s ease; width: 127px; height: 138px;">
                    <div class="prize-card-inner">
                        <div class="prize-card-sol" style="color: #FFD700; font-size: 2.2rem; font-weight: 700; margin-bottom: 5px;">16 SOL</div>
                        <div class="prize-card-rank" style="font-size: 1.2rem; opacity: 0.6; color: #999999; font-family: 'futura-pt', sans-serif; font-weight: 400;">8</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="prize-info animate-on-scroll" style="margin-top: 3rem; text-align: center;">
            <p style="font-size: 1.68rem; font-family: 'futura-pt', sans-serif; font-weight: 400; line-height: 1.54; margin-bottom: 0.5rem; white-space: nowrap;">Winners are determined by overall tournament position.</p>
            <p style="font-size: 1.68rem; font-family: 'futura-pt', sans-serif; line-height: 1.54; margin-top: 0; margin-bottom: 1.5rem;"><span style="color: #9932CC; font-weight: bold;">Each warrior increases your chances!</span></p>
            <a href="https://magiceden.us/" class="cta-btn" style="font-size: 1.6rem; padding: 15px 35px; animation: pulse-button 2s infinite; box-shadow: 0 0 20px rgba(153, 50, 204, 0.5); background-color: #9932CC; color: white;" target="_blank">JOIN THE BATTLE NOW!</a>
        </div>
    </section>
    
    <!-- Interactive Galaxy Starfield Section - Moved here between prize pool and whitepaper -->
    <section id="galaxy-starfield" class="galaxy-section">
        <div style="width: calc(100vw - 4cm); margin: 4rem auto; padding: 0;">
            <h2 class="section-title animate-on-scroll">EXPLORE THE AGENTS <span style="text-transform: lowercase; font-size: 65%;">- more to come soon...</span></h2>
            
            <!-- Interactive Galaxy Tile -->
            <div id="app-container" class="app-integration">
                <!-- Starfield Container -->
                <div id="starfield-container" class="starfield-container" style="border-radius: 15px; box-shadow: 0 0 20px 5px rgba(128, 0, 255, 0.7); overflow: visible; margin: 20px 0; height: 500px;">
                    <!-- Top right button for exploring agents -->
                    <div class="starfield-top-controls">
                        <a href="agents-of-chaos.html" class="explore-agents-btn">EXPLORE THE AGENTS</a>
                    </div>
                    
                    <!-- Simple self-contained galaxy -->
                    <div id="simple-galaxy-container" style="width: 100%; height: 100%; position: relative; border-radius: 15px; overflow: hidden;">
                        <canvas id="simple-galaxy-canvas" style="width: 100%; height: 100%; display: block; background-color: #000;"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Whitepaper Section -->
    <section id="whitepaper" class="about">
        <h2 class="section-title animate-on-scroll" style="font-size: 2.8rem; color: #FFD700; margin-bottom: 1.5rem;">READ THE F***ING WHITEPAPER</h2>
        <div class="about-content">
            <div class="about-text animate-on-scroll" style="padding: 0 20px;">
                <p style="font-size: 1.5rem; font-family: 'futura-pt', sans-serif; line-height: 1.54; color: rgba(255, 255, 255, 0.9); text-align: center; max-width: 1200px; margin: 0 auto; text-transform: none;">Discover the complete mechanics of the battle royale, token economics, and future roadmap in our comprehensive whitepaper.</p>
                <div style="text-align: center; margin-top: 2rem;">
                    <a href="https://app.gitbook.com/o/9ZnpHDUG7efPKkYqKuZ1/s/NG5bbbgrg2I2mVKQG083/" class="cta-btn" style="font-size: 1.6rem; padding: 15px 35px;" target="_blank">READ WHITEPAPER</a>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-links">
            <a href="terms-and-conditions.html">Terms & Conditions</a>
            <a href="privacy-policy.html">Privacy Policy</a>
            <a href="faq.html">FAQ</a>
            <a href="contact.html">Contact</a>
        </div>
        <p class="copyright" style="font-size: 1.125rem; color: rgba(255, 255, 255, 0.7);">© 2025 BANANIUM MAXIMUS. All rights reserved.</p>
    </footer>

    <!-- Load Three.js and original starfield scripts directly -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Canvas Confetti library -->
    <script defer src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    
    <!-- Script to patch image paths -->
    <script>
        // Function to patch image paths in character data
        window.patchImagePaths = function(characters) {
            if (Array.isArray(characters)) {
                characters.forEach(character => {
                    if (character.image && character.image.startsWith('images/')) {
                        character.image = 'bananium-starfield/' + character.image;
                    }
                });
            }
            return characters;
        };

        // Make sure the starfield container has proper dimensions
        window.addEventListener('load', function() {
            const starfieldWrapper = document.getElementById('starfield-wrapper');
            const canvas = document.getElementById('canvas');
            
            // --- REMOVED: This check causes errors if elements don't exist ---
        });
    </script>
    
    <!-- Main JavaScript -->
    <script defer src="assets/js/main.js"></script>
    
    <!-- Fix scrolling issues -->
    <script>
        // Global function to check if mouse is over starfield
        function isMouseOverStarfield(event) {
            const starfieldContainer = document.getElementById('starfield-container');
            if (!starfieldContainer) return false;
            
            const rect = starfieldContainer.getBoundingClientRect();
            return (
                event.clientX >= rect.left &&
                event.clientX <= rect.right &&
                event.clientY >= rect.top &&
                event.clientY <= rect.bottom
            );
        }
        
        // Enhanced resize handler for starfield
        function handleStarfieldResize() {
            const starfieldWrapper = document.getElementById('starfield-wrapper');
            const canvas = document.getElementById('canvas');
            
            if (starfieldWrapper && canvas && App && App.renderer && App.camera) {
                // Get the actual dimensions of the wrapper
                const width = starfieldWrapper.clientWidth;
                const height = starfieldWrapper.clientHeight;
                
                // Set canvas dimensions to match wrapper exactly
                canvas.width = width;
                canvas.height = height;
                
                // Update renderer size
                App.renderer.setSize(width, height, true);
                
                // Update camera aspect ratio
                App.camera.aspect = width / height;
                App.camera.updateProjectionMatrix();
                
                console.log('Resized starfield to:', width, 'x', height);
            }
        }
        
        // NOTE: Removed the immediate scrolling enablement functions
        
        // Ensure scrolling is always enabled on the main site ONLY after user enters
        document.addEventListener('DOMContentLoaded', function() {
            // Make sure to resize the starfield
            window.addEventListener('resize', handleStarfieldResize);
            
            // Initial resize call after DOM is loaded
            setTimeout(handleStarfieldResize, 500);
            
            // Highlight active navigation links
            function setActiveLinks() {
                const currentPath = window.location.pathname;
                const currentHash = window.location.hash;
                
                // Get all navigation links
                const navLinks = document.querySelectorAll('.nav-links a');
                
                // Remove active class from all links
                navLinks.forEach(link => {
                    link.classList.remove('active');
                });
                
                // For the home page (no hash or #home)
                if (currentPath.endsWith('index.html') || currentPath.endsWith('/') || !currentPath) {
                    if (!currentHash || currentHash === '#home') {
                        document.querySelector('.nav-links a[href="#home"]').classList.add('active');
                    }
                }
                
                // Set active class based on current URL hash
                if (currentHash) {
                    navLinks.forEach(link => {
                        if (link.getAttribute('href') === currentHash || link.getAttribute('href').endsWith(currentHash)) {
                            link.classList.add('active');
                        }
                    });
                }
            }
            
            // Run on page load
            setActiveLinks();
            
            // Update when clicking links
            const navLinks = document.querySelectorAll('.nav-links a');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    // Remove active from all
                    navLinks.forEach(l => l.classList.remove('active'));
                    // Add active to clicked
                    this.classList.add('active');
                });
            });
            
            // Update when hash changes
            window.addEventListener('hashchange', setActiveLinks);
        });
        
        // Removed auto-enablement code
    </script>

    <!-- Global wheel event listener -->
    <script>
        // Global wheel event listener
        document.addEventListener('wheel', function(event) {
            // Don't allow wheel scrolling if scrolling is not enabled yet
            if (!document.body.classList.contains('scrolling-enabled')) {
                event.preventDefault();
                return false;
            }

            const isOverStarfield = isMouseOverStarfield(event);
            const canvas = document.getElementById('canvas');
            
            // Only manage pointer events for the canvas, don't block scrolling when enabled
            if (canvas) {
                if (isOverStarfield) {
                    canvas.style.pointerEvents = 'auto';
                } else {
                    canvas.style.pointerEvents = 'none';
                }
            }
        }, { passive: false, capture: true }); // Need passive: false to allow preventDefault
        
        // Add additional mouse event listeners to constrain interaction
        document.addEventListener('DOMContentLoaded', function() {
            // Do NOT enable scrolling here - removed that line
            
            const canvas = document.getElementById('canvas');
            if (canvas) {
                canvas.addEventListener('mousedown', function(event) {
                    if (!isMouseOverStarfield(event)) {
                        event.stopPropagation();
                    }
                }, true);
                
                canvas.addEventListener('mousemove', function(event) {
                    if (!isMouseOverStarfield(event)) {
                        event.stopPropagation();
                    }
                }, true);
                
                canvas.addEventListener('mouseup', function(event) {
                    if (!isMouseOverStarfield(event)) {
                        event.stopPropagation();
                    }
                }, true);
            }
        });
    </script>

    <!-- Global scripts -->
    <script>
        // Function to handle the flip animation
        document.addEventListener('DOMContentLoaded', function() {
            const flipTiles = document.querySelectorAll('.flip-tile');
            
            flipTiles.forEach(tile => {
                // Add transition end listener to handle animation completion
                tile.querySelector('.flip-tile-inner').addEventListener('transitionend', function() {
                    // Only remove rotating class after animation completes
                    if (!tile.classList.contains('flipped')) {
                        tile.classList.remove('rotating');
                        tile.classList.remove('pre-flip');
                    } else {
                        // Make sure pre-flip is always removed when flipped
                        tile.classList.remove('pre-flip');
                    }
                });
                
                tile.addEventListener('click', function() {
                    // Two-stage approach:
                    // 1. First add pre-flip class to forcefully remove glow immediately
                    this.classList.add('pre-flip');
                    this.classList.add('rotating');
                    
                    // 2. Use longer timeout to ensure the glow is completely gone
                    setTimeout(() => {
                        // Toggle the flipped state after glow is definitely gone
                        this.classList.toggle('flipped');
                    }, 50); // Increased from 10ms to 50ms for safety
                });
            });
        });
        
        // Fix for Safari and other browsers that might have issues with 3D transforms
        document.addEventListener('DOMContentLoaded', function() {
            // Force a repaint to ensure backface-visibility is applied correctly
            setTimeout(function() {
                document.querySelectorAll('.flip-tile-back').forEach(function(el) {
                    el.style.display = 'none';
                    void el.offsetHeight; // Force reflow
                    el.style.display = 'flex';
                });
            }, 100);
        });
    </script>

    <!-- Script for handling navigation active states -->
    <script>
        // Function to highlight active navigation links based on scroll position
        function updateActiveNavLink() {
            const sections = document.querySelectorAll('section, #about-roadmap');
            const navLinks = document.querySelectorAll('.nav-links a');
            
            // Get current scroll position
            let scrollPosition = window.scrollY;
            
            // Check each section to see if it's in view
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100; // Offset by navbar height
                const sectionBottom = sectionTop + section.offsetHeight;
                const sectionId = section.getAttribute('id');
                
                if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                    // Remove active class from all links
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                    });
                    
                    // Add active class to corresponding link
                    const correspondingLink = document.querySelector(`.nav-links a[href="#${sectionId}"]`);
                    if (correspondingLink) {
                        correspondingLink.classList.add('active');
                    }
                }
            });
        }
        
        // Call on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Set home as active by default
            document.querySelector('.nav-links a[href="#home"]').classList.add('active');
            
            // Update on scroll
            window.addEventListener('scroll', updateActiveNavLink);
            updateActiveNavLink();
        });
    </script>

    <!-- Script to handle prize card animations -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure cards are initially hidden
            const prizeCards = document.querySelectorAll('.prize-card');
            prizeCards.forEach(card => {
                card.style.visibility = 'hidden';
                card.style.opacity = '0';
            });
            
            // Create an intersection observer
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    // Add animation class when card becomes visible
                    if (entry.isIntersecting) {
                        // Add delay based on card rank to create sequential animation
                        const card = entry.target;
                        const rank = parseInt(card.getAttribute('data-rank'));
                        const delay = (rank - 4) * 150; // 150ms delay between each card
                        
                        setTimeout(() => {
                            card.style.visibility = 'visible';
                            card.classList.add('animated');
                        }, delay);
                        
                        // Unobserve after animation
                        observer.unobserve(card);
                    }
                });
            }, {
                threshold: 0.1 // Trigger when 10% of the card is visible
            });
            
            // Observe each prize card
            prizeCards.forEach(card => {
                observer.observe(card);
            });
            
            // Create an observer for the prize podium to trigger confetti
            const podiumObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Fire confetti when podium is visible
                        triggerConfetti();
                        // Only trigger once
                        podiumObserver.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.5 // Trigger when 50% of the podium is visible
            });
            
            // Observe the prize podium
            const podium = document.querySelector('.prize-podium-container');
            if (podium) {
                podiumObserver.observe(podium);
            }
            
            // Add event listener for manual confetti trigger button
            const confettiTriggerBtn = document.getElementById('confetti-trigger');
            if (confettiTriggerBtn) {
                confettiTriggerBtn.addEventListener('click', triggerConfetti);
            }
            
            // Function to trigger realistic confetti
            function triggerConfetti() {
                const count = 400; // Increased count for a single burst
                
                // Left side confetti
                const leftDefaults = {
                    origin: { x: 0.1, y: 0.7 },  // Left side origin moved further left
                    angle: 60 // Angle toward the center
                };
                
                // Right side confetti
                const rightDefaults = {
                    origin: { x: 0.9, y: 0.7 },  // Right side origin moved further right
                    angle: 120 // Angle toward the center
                };
                
                // Single burst from left side
                confetti(Object.assign({}, leftDefaults, {
                    particleCount: count / 2,
                    spread: 60,
                    startVelocity: 55,
                    decay: 0.9,
                    scalar: 1
                }));
                
                // Single burst from right side
                confetti(Object.assign({}, rightDefaults, {
                    particleCount: count / 2,
                    spread: 60,
                    startVelocity: 55,
                    decay: 0.9,
                    scalar: 1
                }));
            }
        });
    </script>

    <!-- Countdown timer functionality -->
    <script>
        // Countdown timer functionality - Check if elements exist before setting content
        document.addEventListener('DOMContentLoaded', function() {
            // Set the countdown date (7 days from now)
            const countdownDate = new Date();
            countdownDate.setDate(countdownDate.getDate() + 7);
            
            function updateCountdown() {
                const now = new Date().getTime();
                const distance = countdownDate - now;
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                // Only set content if elements exist
                const daysElement = document.getElementById("days");
                const hoursElement = document.getElementById("hours");
                const minutesElement = document.getElementById("minutes");
                const secondsElement = document.getElementById("seconds");
                
                if (daysElement) daysElement.textContent = days.toString().padStart(2, '0');
                if (hoursElement) hoursElement.textContent = hours.toString().padStart(2, '0');
                if (minutesElement) minutesElement.textContent = minutes.toString().padStart(2, '0');
                if (secondsElement) secondsElement.textContent = seconds.toString().padStart(2, '0');
            }
            
            // Update the countdown every second
            setInterval(updateCountdown, 1000);
            updateCountdown(); // Initial call
        });
    </script>

    <!-- Simple Galaxy Implementation Script -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Simple self-contained galaxy implementation
        const canvas = document.getElementById('simple-galaxy-canvas');
        
        // Make sure canvas exists
        if (!canvas) return;
        
        // Check if Three.js is available
        if (typeof THREE === 'undefined') {
            console.error('THREE.js not available for simple galaxy');
            return;
        }
        
        // Create a circular star texture with high quality
        function createCircleTexture() {
            const size = 256; // Increased from 128 for higher quality
            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            
            const context = canvas.getContext('2d');
            
            // Create a radial gradient for a soft-edged circle
            const gradient = context.createRadialGradient(
                size / 2, size / 2, 0,
                size / 2, size / 2, size / 2
            );
            
            gradient.addColorStop(0, 'rgba(255, 255, 255, 1)');
            gradient.addColorStop(0.3, 'rgba(255, 255, 255, 0.8)');
            gradient.addColorStop(0.7, 'rgba(255, 255, 255, 0.3)');
            gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
            
            // Fill the canvas with the gradient
            context.fillStyle = gradient;
            context.fillRect(0, 0, size, size);
            
            // Create texture from canvas
            const texture = new THREE.CanvasTexture(canvas);
            texture.needsUpdate = true;
            
            // Apply high-quality texture settings
            texture.minFilter = THREE.LinearFilter;
            texture.magFilter = THREE.LinearFilter;
            texture.anisotropy = 16; // Maximum anisotropic filtering
            
            return texture;
        }
        
        // Star texture
        const starTexture = createCircleTexture();
        
        // Set canvas size
        const container = document.getElementById('simple-galaxy-container');
        const width = container.clientWidth;
        const height = container.clientHeight;
        canvas.width = width;
        canvas.height = height;
        
        // Initialize Three.js scene
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x000000);
        
        // Create camera with better positioning for galaxy view
        const camera = new THREE.PerspectiveCamera(60, width / height, 0.1, 10000);
        camera.position.z = 1200;
        camera.position.y = 400;
        camera.lookAt(0, 0, 0);
        
        // Create renderer with high-quality settings
        const renderer = new THREE.WebGLRenderer({
            canvas: canvas,
            antialias: true,
            alpha: true,
            powerPreference: 'high-performance'
        });
        renderer.setSize(width, height);
        
        // Use high pixel ratio for better quality (at least 2 for retina-like display)
        const pixelRatio = Math.max(2, window.devicePixelRatio);
        renderer.setPixelRatio(pixelRatio);
        
        // Enable shadows for better visual quality
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        
        // Create a structured galaxy with spiral arms
        function createGalaxy() {
            const params = {
                count: 40000, // Increased from 30000 for more stars
                size: 0.01,
                radius: 10,
                branches: 5,
                spin: 1,
                randomness: 0.2,
                randomnessPower: 3,
                insideColor: 0xff8050,
                outsideColor: 0x1b3984,
                centerBrightness: 0.8
            };
            
            // Galaxy geometry
            const geometry = new THREE.BufferGeometry();
            
            const positions = new Float32Array(params.count * 3);
            const colors = new Float32Array(params.count * 3);
            const sizes = new Float32Array(params.count);
            
            const colorInside = new THREE.Color(params.insideColor);
            const colorOutside = new THREE.Color(params.outsideColor);
            
            
            // Generate stars in a galaxy pattern with spiral arms
            for(let i = 0; i < params.count; i++) {
                const i3 = i * 3;
                
                // Position
                const radius = Math.random() * params.radius;
                const spinAngle = radius * params.spin;
                const branchAngle = (i % params.branches) / params.branches * Math.PI * 2;
                
                const randomX = Math.pow(Math.random(), params.randomnessPower) * (Math.random() < 0.5 ? 1 : -1) * params.randomness * radius;
                const randomY = Math.pow(Math.random(), params.randomnessPower) * (Math.random() < 0.5 ? 1 : -1) * params.randomness * radius;
                const randomZ = Math.pow(Math.random(), params.randomnessPower) * (Math.random() < 0.5 ? 1 : -1) * params.randomness * radius;
                
                positions[i3    ] = Math.cos(branchAngle + spinAngle) * radius + randomX;
                positions[i3 + 1] = randomY;
                positions[i3 + 2] = Math.sin(branchAngle + spinAngle) * radius + randomZ;
                
                // Color
                const mixedColor = colorInside.clone();
                mixedColor.lerp(colorOutside, radius / params.radius);
                
                colors[i3    ] = mixedColor.r;
                colors[i3 + 1] = mixedColor.g;
                colors[i3 + 2] = mixedColor.b;
                
                // Size increases towards the center
                sizes[i] = (1 - radius / params.radius) * 3 + Math.random() * 1.5;
            }
            
            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));
            
            // Create galaxy material with custom shaders for better star appearance
            const material = new THREE.PointsMaterial({
                size: 5, // Larger stars
                sizeAttenuation: true,
                depthWrite: false,
                blending: THREE.AdditiveBlending,
                vertexColors: true,
                transparent: true,
                map: starTexture, // Use the circular texture for round points
                premultipliedAlpha: true,
            });
            
            // Create points system representing the galaxy
            const galaxy = new THREE.Points(geometry, material);
            return galaxy;
        }
        
        // Create a central bright core
        function createGalacticCore() {
            const geometry = new THREE.SphereGeometry(1.5, 32, 32);
            const material = new THREE.MeshBasicMaterial({
                color: 0xffffcc,
                transparent: true,
                opacity: 0.4
            });
            return new THREE.Mesh(geometry, material);
        }
        
        // Create a subtle glow effect for the core
        function createCoreGlow() {
            const geometry = new THREE.SphereGeometry(2.5, 32, 32);
            const material = new THREE.MeshBasicMaterial({
                color: 0xeeeedd,
                transparent: true,
                opacity: 0.2,
                side: THREE.BackSide
            });
            return new THREE.Mesh(geometry, material);
        }
        
        // Create some background stars
        function createBackgroundStars() {
            const starsGeometry = new THREE.BufferGeometry();
            const starCount = 8000; // Increased from 5000 for more stars
            const positions = new Float32Array(starCount * 3);
            const colors = new Float32Array(starCount * 3);
            const sizes = new Float32Array(starCount);
            
            for (let i = 0; i < starCount; i++) {
                const i3 = i * 3;
                
                // Position background stars in a larger sphere around the galaxy
                const radius = 700 + Math.random() * 600;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos(2 * Math.random() - 1);
                
                positions[i3    ] = radius * Math.sin(phi) * Math.cos(theta);
                positions[i3 + 1] = radius * Math.sin(phi) * Math.sin(theta);
                positions[i3 + 2] = radius * Math.cos(phi);
                
                // White-blue tint for most stars with color variation
                const blueShift = Math.random() * 0.2;
                colors[i3    ] = 0.8 + Math.random() * 0.2; // R
                colors[i3 + 1] = 0.8 + Math.random() * 0.2; // G
                colors[i3 + 2] = 0.9 + blueShift; // B
                
                // Varied sizes
                sizes[i] = 1.5 + Math.random() * 2.5;
            }
            
            starsGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            starsGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            starsGeometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));
            
            const starsMaterial = new THREE.PointsMaterial({
                size: 2.5, // Larger stars
                sizeAttenuation: true,
                vertexColors: true,
                transparent: true,
                opacity: 0.8,
                blending: THREE.AdditiveBlending,
                map: starTexture, // Use the circular texture for round background stars too
                premultipliedAlpha: true,
            });
            
            return new THREE.Points(starsGeometry, starsMaterial);
        }
        
        // Add objects to scene
        const galaxy = createGalaxy();
        const galacticCore = createGalacticCore();
        const coreGlow = createCoreGlow();
        const backgroundStars = createBackgroundStars();
        
        scene.add(galaxy);
        scene.add(galacticCore);
        scene.add(coreGlow);
        scene.add(backgroundStars);
        
        // Scale the entire group to fit nicely in view
        galaxy.scale.set(20, 20, 20);
        galacticCore.scale.set(20, 20, 20);
        coreGlow.scale.set(20, 20, 20);
        
        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            
            // Rotate the galaxy (reduced speed)
            galaxy.rotation.y += 0.0008;
            galacticCore.rotation.y += 0.0008;
            coreGlow.rotation.y += 0.0008;
            
            // Remove wobble effect that causes twinkling
            // galaxy.rotation.x = Math.sin(Date.now() * 0.00008) * 0.08;
            // galacticCore.rotation.x = galaxy.rotation.x;
            // coreGlow.rotation.x = galaxy.rotation.x;
            
            // Rotate background stars very slowly
            backgroundStars.rotation.y += 0.0001;
            
            // Render the scene
            renderer.render(scene, camera);
        }
        
        // Handle window resize
        function onWindowResize() {
            const newWidth = container.clientWidth;
            const newHeight = container.clientHeight;
            
            camera.aspect = newWidth / newHeight;
            camera.updateProjectionMatrix();
            
            renderer.setSize(newWidth, newHeight);
        }
        
        window.addEventListener('resize', onWindowResize);
        
        // Start animation
        animate();
        
        // Export to global scope
        window.simpleGalaxy = {
            scene: scene,
            camera: camera,
            renderer: renderer,
            galaxy: galaxy,
            galacticCore: galacticCore,
            coreGlow: coreGlow,
            backgroundStars: backgroundStars
        };
    });
    </script>

    <!-- Script to handle Enter Arena button -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const enterArenaBtn = document.getElementById('enter-arena-btn');
            const navLinks = document.querySelectorAll('.nav-link');
            
            // Make sure scrolling is disabled initially
            document.body.classList.remove('scrolling-enabled');
            document.body.style.overflow = 'hidden';
            
            // Prevent keyboard scrolling (arrow keys, spacebar, page up/down)
            function preventKeyboardScroll(e) {
                // If scrolling is not enabled yet
                if (!document.body.classList.contains('scrolling-enabled')) {
                    const keys = [32, 33, 34, 35, 36, 37, 38, 39, 40]; // Space, PageUp, PageDown, End, Home, Left, Up, Right, Down
                    if (keys.includes(e.keyCode)) {
                        e.preventDefault();
                        return false;
                    }
                }
            }
            document.addEventListener('keydown', preventKeyboardScroll, false);
            
            // Prevent touch scrolling
            function preventTouchScroll(e) {
                if (!document.body.classList.contains('scrolling-enabled')) {
                    e.preventDefault();
                }
            }
            document.addEventListener('touchmove', preventTouchScroll, { passive: false });
            
            // Enable scrolling when Enter Arena button is clicked
            enterArenaBtn.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Enable scrolling
                document.body.classList.add('scrolling-enabled');
                document.body.style.overflow = 'auto';
                
                // Remove the event listeners that prevent scrolling
                document.removeEventListener('keydown', preventKeyboardScroll, false);
                document.removeEventListener('touchmove', preventTouchScroll, { passive: false });
                
                // Smooth scroll to the about section
                const aboutSection = document.getElementById('about');
                aboutSection.scrollIntoView({ behavior: 'smooth' });
            });
            
            // Smooth scroll for navigation links once scrolling is enabled
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    // Only handle hash links, not external or other page links
                    if (this.getAttribute('href').startsWith('#') && document.body.classList.contains('scrolling-enabled')) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href');
                        if (targetId !== '#') {
                            const targetElement = document.querySelector(targetId);
                            if (targetElement) {
                                targetElement.scrollIntoView({ behavior: 'smooth' });
                            }
                        } else {
                            // For the home link or # links, scroll to top
                            window.scrollTo({ top: 0, behavior: 'smooth' });
                        }
                    }
                });
            });
        });
    </script>

    <script>
        if (document.readyState === 'complete' || document.readyState === 'interactive') {
            setTimeout(initPrizeMeterAnimation, 1000);
        } else {
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(initPrizeMeterAnimation, 1000);
            });
        }

        // Also run on window load to be extra safe
        window.addEventListener('load', () => {
            setTimeout(initPrizeMeterAnimation, 1000);
        }); 
    </script>
    
    <!-- Mobile-specific enhancements -->
    <script src="assets/js/mobile.js"></script>
    
    <!-- Critical Mobile Menu Fix -->
    <script>
        // Ensure mobile menu toggle works immediately
        (function() {
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            
            if (mobileMenuToggle && navLinks && window.innerWidth <= 768) {
                // Force correct styles for mobile devices
                mobileMenuToggle.style.display = 'block';
                mobileMenuToggle.style.position = 'absolute';
                mobileMenuToggle.style.right = '10px';
                mobileMenuToggle.style.top = '50%';
                mobileMenuToggle.style.transform = 'translateY(-50%)';
                mobileMenuToggle.style.cursor = 'pointer';
                mobileMenuToggle.style.zIndex = '1010';
                
                // Add direct click handler
                mobileMenuToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Toggle menu visibility
                    navLinks.classList.toggle('active');
                    mobileMenuToggle.classList.toggle('active');
                    
                    if (navLinks.classList.contains('active')) {
                        navLinks.style.display = 'flex';
                        
                        // Make sure the JOIN THE BATTLE link is properly styled
                        const battleLink = document.querySelector('.nav-links a.battle-link');
                        if (battleLink) {
                            battleLink.style.backgroundColor = '#FFD700';
                            battleLink.style.color = '#000000';
                            battleLink.style.fontWeight = 'bold';
                            battleLink.style.marginTop = '10px';
                            battleLink.style.padding = '12px 20px';
                            battleLink.style.borderRadius = '8px';
                            battleLink.style.boxShadow = '0 0 10px rgba(255, 215, 0, 0.5)';
                            battleLink.style.width = '80%';
                            battleLink.style.maxWidth = '250px';
                            battleLink.style.border = '2px solid #FFD700';
                        }
                    } else {
                        setTimeout(function() {
                            navLinks.style.display = 'none';
                        }, 300); // Match transition time
                    }
                });
                
                // Set up nav link clicks with proper active states
                const navLinkItems = document.querySelectorAll('.nav-links a');
                navLinkItems.forEach(link => {
                    link.addEventListener('click', function(e) {
                        // For links that target the current page
                        if (link.getAttribute('href').startsWith('#')) {
                            // Remove active from all links
                            navLinkItems.forEach(item => item.classList.remove('active'));
                            
                            // Add active to clicked link
                            link.classList.add('active');
                        }
                        
                        // Close the menu
                        navLinks.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                        
                        setTimeout(function() {
                            navLinks.style.display = 'none';
                        }, 300); // Match transition time
                    });
                });
                
                // Close when clicking outside
                document.addEventListener('click', function(e) {
                    if (navLinks.classList.contains('active') && 
                        !navLinks.contains(e.target) && 
                        !mobileMenuToggle.contains(e.target)) {
                        navLinks.classList.remove('active');
                        mobileMenuToggle.classList.remove('active');
                        
                        setTimeout(function() {
                            navLinks.style.display = 'none';
                        }, 300); // Match transition time
                    }
                });
            }
        })();
    </script>

    <!-- Main site JavaScript module imports -->
    <script type="module" src="assets/js/app.js"></script>
    <script type="module" src="assets/js/mobile.js"></script>
    
    <!-- Additional script for debugging and ensuring the roadmap enlarge feature works -->
    <script>
        // Ensure the roadmap enlarge functionality initializes properly
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM fully loaded - checking for roadmap video enlarge functionality');
            
            // Wait a bit for all modules to initialize
            setTimeout(function() {
                // Add direct event handlers to ensure roadmap video clickability
                const roadmapVideo = document.querySelector('.roadmap-video');
                const roadmapVideoContainer = document.querySelector('.roadmap-video-container');
                
                if (roadmapVideo && roadmapVideoContainer) {
                    console.log('Adding guaranteed click handlers to roadmap video');
                    
                    // Function to handle modal opening
                    const openModal = function(e) {
                        if (window.innerWidth <= 768) {
                            console.log('Direct click on roadmap video detected');
                            e.preventDefault();
                            e.stopPropagation();
                            
                            // Find or create modal
                            let modal = document.querySelector('.roadmap-video-modal');
                            if (!modal) {
                                console.log('Modal not found, creating fallback modal');
                                // Create modal elements
                                modal = document.createElement('div');
                                modal.className = 'roadmap-video-modal';
                                modal.style.display = 'none';
                                modal.style.position = 'fixed';
                                modal.style.zIndex = '10000';
                                modal.style.left = '0';
                                modal.style.top = '0';
                                modal.style.width = '100%';
                                modal.style.height = '100%';
                                modal.style.overflow = 'auto';
                                modal.style.backgroundColor = 'rgba(0, 0, 0, 0.9)';
                                
                                const modalContent = document.createElement('div');
                                modalContent.className = 'roadmap-video-modal-content';
                                modalContent.style.margin = '5% auto';
                                modalContent.style.width = '90%';
                                modalContent.style.position = 'relative';
                                
                                const closeBtn = document.createElement('span');
                                closeBtn.className = 'roadmap-video-modal-close';
                                closeBtn.innerHTML = '&times;';
                                closeBtn.style.position = 'absolute';
                                closeBtn.style.right = '15px';
                                closeBtn.style.top = '10px';
                                closeBtn.style.color = '#FFD700';
                                closeBtn.style.fontSize = '30px';
                                closeBtn.style.fontWeight = 'bold';
                                closeBtn.style.cursor = 'pointer';
                                closeBtn.style.zIndex = '10001';
                                
                                // Clone the video
                                const modalVideo = roadmapVideo.cloneNode(true);
                                modalVideo.className = 'roadmap-video-enlarged';
                                modalVideo.style.width = '100%';
                                
                                // Add elements to DOM
                                modalContent.appendChild(closeBtn);
                                modalContent.appendChild(modalVideo);
                                modal.appendChild(modalContent);
                                document.body.appendChild(modal);
                                
                                // Add close functionality
                                closeBtn.addEventListener('click', function(e) {
                                    e.stopPropagation();
                                    modal.style.display = 'none';
                                });
                                
                                modal.addEventListener('click', function(e) {
                                    if (e.target === modal) {
                                        modal.style.display = 'none';
                                    }
                                });
                            }
                            
                            // Show the modal
                            modal.style.display = 'block';
                            
                            // Simple video display approach
                            const modalVideo = modal.querySelector('.roadmap-video-enlarged');
                            const modalContent = modal.querySelector('.roadmap-video-modal-content');
                            
                            if (modalVideo && modalContent) {
                                // Fixed positioning that works in all orientations
                                modalContent.style.position = 'fixed';
                                modalContent.style.top = '50%';
                                modalContent.style.left = '50%';
                                modalContent.style.transform = 'translate(-50%, -50%)';
                                
                                // Static dimensions
                                modalContent.style.width = '90%';
                                modalContent.style.maxWidth = '90%';
                                modalContent.style.maxHeight = '90%';
                                
                                // Simple video styling
                                modalVideo.style.width = '100%';
                                modalVideo.style.height = 'auto';
                                modalVideo.style.objectFit = 'contain';
                                
                                // Play the video
                                modalVideo.play();
                            }
                        }
                    };
                    
                    // Add multiple handlers to ensure it works
                    roadmapVideo.addEventListener('click', openModal);
                    roadmapVideoContainer.addEventListener('click', openModal);
                    
                    // Handle touch events specifically
                    roadmapVideo.addEventListener('touchend', openModal);
                    roadmapVideoContainer.addEventListener('touchend', openModal);
                    
                    // Listen for orientation changes
                    window.addEventListener('orientationchange', function() {
                        // Handle orientation change for the modal if it's open
                        setTimeout(function() {
                            const modal = document.querySelector('.roadmap-video-modal');
                            const modalVideo = modal ? modal.querySelector('.roadmap-video-enlarged') : null;
                            const modalContent = modal ? modal.querySelector('.roadmap-video-modal-content') : null;
                            
                            if (modal && modal.style.display === 'block' && modalVideo) {
                                // Check if we're in landscape mode
                                if (window.innerWidth > window.innerHeight) {
                                    // We're in landscape mode
                                    modal.style.display = 'flex';
                                    modal.style.alignItems = 'center';
                                    modal.style.justifyContent = 'center';
                                    
                                    if (modalContent) {
                                        // Ensure modal content is properly sized for landscape
                                        modalContent.style.width = '95%';
                                        modalContent.style.maxWidth = '95%';
                                        modalContent.style.maxHeight = '95vh';
                                        modalContent.style.position = 'fixed';
                                        modalContent.style.top = '50%';
                                        modalContent.style.left = '50%';
                                        modalContent.style.transform = 'translate(-50%, -50%)';
                                        
                                        // Force a repaint
                                        void modalContent.offsetHeight;
                                    }
                                    
                                    // Ensure video fills the space correctly in landscape
                                    modalVideo.style.maxHeight = '85vh';
                                    modalVideo.style.objectFit = 'contain';
                                }
                                
                                // Make sure the video plays
                                modalVideo.play();
                            }
                        }, 300); // Short delay to allow rotation to complete
                    });
                    
                    // Remove any existing test buttons
                    const testButtons = document.querySelectorAll('[data-testing-only="true"], button');
                    const buttonsToRemove = Array.from(testButtons).filter(btn => 
                        btn.matches('[data-testing-only="true"]') || 
                        (btn.tagName === 'BUTTON' && btn.textContent.includes("TEST ENLARGE MODAL"))
                    );

                    if (buttonsToRemove.length > 0) {
                        console.log('Removing', buttonsToRemove.length, 'test buttons');
                        buttonsToRemove.forEach(btn => {
                            if (btn.parentNode) {
                                btn.parentNode.removeChild(btn);
                            }
                        });
                    }
                }
            }, 500);
        });
    </script>
</body>
</html>
